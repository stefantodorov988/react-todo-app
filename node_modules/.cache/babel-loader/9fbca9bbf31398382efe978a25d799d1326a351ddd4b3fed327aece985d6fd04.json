{"ast":null,"code":"import _objectSpread from\"/Users/stefantodorov/code/react-todo-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/stefantodorov/code/react-todo-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/stefantodorov/code/react-todo-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{add,update,remove,removeCompleted,reorderArray}from\"../../store/reducers/todo.reducer\";import{orderTodos}from\"../../helpers/clasification.helper\";import{DragDropContext,Droppable,Draggable}from\"react-beautiful-dnd\";import{Checkbox}from\"../../components/CheckBox/CheckBox\";import{Input}from\"../../components/Input/Input\";import{Button}from\"../../components/Button/Button\";import\"./MainPage.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialTodo={id:\"\",name:\"\",completed:false};export var MainPage=function MainPage(){var todos=useSelector(function(state){return state.todo;});var dispatch=useDispatch();var _useState=useState(initialTodo),_useState2=_slicedToArray(_useState,2),todo=_useState2[0],setTodo=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),selected=_useState4[0],setSelected=_useState4[1];// Function to update list on drop\nvar handleDrop=function handleDrop(droppedItem){// Ignore drop outside droppable container\nif(!droppedItem.destination)return;var updatedList=_toConsumableArray(todos);// Remove dragged item\nvar _updatedList$splice=updatedList.splice(droppedItem.source.index,1),_updatedList$splice2=_slicedToArray(_updatedList$splice,1),reorderedItem=_updatedList$splice2[0];// Add dropped item\nupdatedList.splice(droppedItem.destination.index,0,reorderedItem);// Update State\ndispatch(reorderArray(updatedList));};var sortedItems=orderTodos(todos,selected);var handleUpdate=function handleUpdate(value){dispatch(update(value));};var handleRemove=function handleRemove(value){dispatch(remove(value));};var handleRemoveCompleted=function handleRemoveCompleted(){dispatch(removeCompleted());};var handleChange=function handleChange(event){setTodo(_objectSpread(_objectSpread({},todo),{},{name:event.target.value}));};var handleCheckbox=function handleCheckbox(event){setTodo(_objectSpread(_objectSpread({},todo),{},{completed:event.target.checked}));};var handleKey=function handleKey(event){if(event.keyCode===13&&todo.name.length>0){dispatch(add({id:crypto.randomUUID(),name:todo.name,completed:todo.completed}));setTodo(initialTodo);}};return/*#__PURE__*/_jsx(\"div\",{className:\"todo-layout\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"todo-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"todo-container-title\",children:\"TODO\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"todo-container-input\",children:[/*#__PURE__*/_jsx(Checkbox,{handleCheckbox:handleCheckbox,checked:todo.completed}),/*#__PURE__*/_jsx(Input,{handleChange:handleChange,handleKey:handleKey,value:todo.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"todo-container-body\",children:[/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:handleDrop,children:/*#__PURE__*/_jsx(Droppable,{droppableId:\"todo-list-container\",children:function children(provided){return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({className:\"todo-list-container\"},provided.droppableProps),{},{ref:provided.innerRef,children:[sortedItems.map(function(item,index){return/*#__PURE__*/_jsx(Draggable,{isDragDisabled:selected==='Active'||selected===\"Completed\",draggableId:item.id,index:index,children:function children(provided){return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread(_objectSpread({className:\"todo-item-container\",ref:provided.innerRef},provided.dragHandleProps),provided.draggableProps),{},{children:[/*#__PURE__*/_jsx(Checkbox,{label:item.name,checked:item.completed,handleCheckbox:function handleCheckbox(){return handleUpdate(item.id);}}),/*#__PURE__*/_jsx(Button,{handleClick:function handleClick(){return handleRemove(item.id);},children:\"X\"})]}));}},item.name+item.id);}),provided.placeholder]}));}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"todo-list-container-footer\",children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:\"rgb(199, 199, 199)\",fontSize:\"0.6em\"},children:[sortedItems.length,\" items left\"]}),/*#__PURE__*/_jsx(Button,{selected:selected,handleClick:function handleClick(){return setSelected(\"All\");},children:\"All\"}),/*#__PURE__*/_jsx(Button,{selected:selected,handleClick:function handleClick(){return setSelected(\"Active\");},children:\"Active\"}),/*#__PURE__*/_jsx(Button,{selected:selected,handleClick:function handleClick(){return setSelected(\"Completed\");},children:\"Completed\"}),/*#__PURE__*/_jsx(Button,{handleClick:function handleClick(){return handleRemoveCompleted();},children:\"Clear Completed\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"todo-container-footer\",children:\"Drag and drop to reorder list\"})]})});};","map":{"version":3,"names":["useState","useSelector","useDispatch","add","update","remove","removeCompleted","reorderArray","orderTodos","DragDropContext","Droppable","Draggable","Checkbox","Input","Button","jsx","_jsx","jsxs","_jsxs","initialTodo","id","name","completed","MainPage","todos","state","todo","dispatch","_useState","_useState2","_slicedToArray","setTodo","_useState3","_useState4","selected","setSelected","handleDrop","droppedItem","destination","updatedList","_toConsumableArray","_updatedList$splice","splice","source","index","_updatedList$splice2","reorderedItem","sortedItems","handleUpdate","value","handleRemove","handleRemoveCompleted","handleChange","event","_objectSpread","target","handleCheckbox","checked","handleKey","keyCode","length","crypto","randomUUID","className","children","onDragEnd","droppableId","provided","droppableProps","ref","innerRef","map","item","isDragDisabled","draggableId","dragHandleProps","draggableProps","label","handleClick","placeholder","style","color","fontSize"],"sources":["/Users/stefantodorov/code/react-todo-app/src/pages/MainPage/MainPage.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  add,\n  update,\n  remove,\n  removeCompleted,\n  reorderArray,\n} from \"../../store/reducers/todo.reducer\";\nimport { orderTodos } from \"../../helpers/clasification.helper\"\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport { Checkbox } from \"../../components/CheckBox/CheckBox\";\nimport { Input } from \"../../components/Input/Input\";\nimport { Button } from \"../../components/Button/Button\";\nimport \"./MainPage.css\";\n\nconst initialTodo = {\n  id: \"\",\n  name: \"\",\n  completed: false,\n};\n\nexport const MainPage = () => {\n    const todos = useSelector((state) => state.todo);\n    const dispatch = useDispatch();\n    const [todo, setTodo] = useState(initialTodo);\n    const [selected, setSelected] = useState(\"\");\n  \n    // Function to update list on drop\n    const handleDrop = (droppedItem) => {\n      // Ignore drop outside droppable container\n      if (!droppedItem.destination) return;\n      var updatedList = [...todos];\n      // Remove dragged item\n      const [reorderedItem] = updatedList.splice(droppedItem.source.index, 1);\n      // Add dropped item\n      updatedList.splice(droppedItem.destination.index, 0, reorderedItem);\n      // Update State\n      dispatch(reorderArray(updatedList));\n    };\n  \n    const sortedItems = orderTodos(todos, selected);\n  \n    const handleUpdate = (value) => {\n      dispatch(update(value));\n    };\n  \n    const handleRemove = (value) => {\n      dispatch(remove(value));\n    };\n  \n    const handleRemoveCompleted = () => {\n      dispatch(removeCompleted());\n    };\n  \n    const handleChange = (event) => {\n      setTodo({\n        ...todo,\n        name: event.target.value,\n      });\n    };\n  \n    const handleCheckbox = (event) => {\n      setTodo({\n        ...todo,\n        completed: event.target.checked,\n      });\n    };\n  \n    const handleKey = (event) => {\n      if (event.keyCode === 13 && todo.name.length > 0) {\n        dispatch(\n          add({\n            id: crypto.randomUUID(),\n            name: todo.name,\n            completed: todo.completed,\n          })\n        );\n        setTodo(initialTodo);\n      }\n    };\n  \n\n    return (\n        <div className=\"todo-layout\">\n          <div className=\"todo-container\">\n            <h1 className=\"todo-container-title\">TODO</h1>\n            <div className=\"todo-container-input\">\n              <Checkbox\n                handleCheckbox={handleCheckbox}\n                checked={todo.completed}\n              ></Checkbox>\n              <Input\n                handleChange={handleChange}\n                handleKey={handleKey}\n                value={todo.name}\n              ></Input>\n            </div>\n            <div className=\"todo-container-body\">\n              <DragDropContext onDragEnd={handleDrop}>\n                <Droppable droppableId=\"todo-list-container\">\n                  {(provided) => (\n                    <div\n                      className=\"todo-list-container\"\n                      {...provided.droppableProps}\n                      ref={provided.innerRef}\n                    >\n                      {sortedItems.map((item, index) => (\n                        <Draggable\n                          isDragDisabled={selected === 'Active' || selected === \"Completed\"}\n                          key={item.name + item.id}\n                          draggableId={item.id}\n                          index={index}\n                        >\n                          {(provided) => (\n                            <div\n                              className=\"todo-item-container\"\n                              ref={provided.innerRef}\n                              {...provided.dragHandleProps}\n                              {...provided.draggableProps}\n                            >\n                              <Checkbox\n                                label={item.name}\n                                checked={item.completed}\n                                handleCheckbox={() => handleUpdate(item.id)}\n                              ></Checkbox>\n                              <Button\n                                handleClick={() => handleRemove(item.id)}\n                              >\n                                X\n                              </Button>\n                            </div>\n                          )}\n                        </Draggable>\n                      ))}\n                      {provided.placeholder}\n                    </div>\n                  )}\n                </Droppable>\n              </DragDropContext>\n              <div className=\"todo-list-container-footer\">\n                <span\n                  style={{\n                    color: \"rgb(199, 199, 199)\",\n                    fontSize: \"0.6em\",\n                  }}\n                >\n                  {sortedItems.length} items left\n                </span>\n                <Button\n                  selected={selected}\n                  handleClick={() => setSelected(\"All\")}\n                >\n                  All\n                </Button>\n                <Button\n                  selected={selected}\n                  handleClick={() => setSelected(\"Active\")}\n                >\n                  Active\n                </Button>\n                <Button\n                  selected={selected}\n                  handleClick={() => setSelected(\"Completed\")}\n                >\n                  Completed\n                </Button>\n                <Button handleClick={() => handleRemoveCompleted()}>\n                  Clear Completed\n                </Button>\n              </div>\n            </div>\n            <div className=\"todo-container-footer\">\n              Drag and drop to reorder list\n            </div>\n          </div>\n        </div>\n      );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}